<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - ShareIT</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/styles.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body class="login-page">

    <div class="login-form-container">
        
        <h2 class="text-center mb-4">Welcome</h2>
        
        <!-- para los mensajes de alerta -->
        <div class="alert-container">
            <!-- Mensaje de error de login -->
            <div th:if="${param.error}" class="alert alert-danger">
                Invalid email or password.
            </div>
            
            <!-- Mensaje de cierre de sesiÃ³n exitoso -->
            <div th:if="${param.logout_success}" class="alert alert-success">
                You have been successfully logged out.
            </div>

            <!-- Mensaje de registro exitoso -->
            <div th:if="${param.registration_success}" class="alert alert-success">
                Registration successful! Please log in.
            </div>
        </div>

        <!-- El formulario usa los nombres 'username' y 'password' que Spring Security espera -->
        <form th:action="@{/login}" method="post">
            <div class="form-floating mb-3">
                <input type="email" name="username" class="form-control" id="username" placeholder="name@example.com" required>
                <label for="username">Email address</label>
            </div>
            <div class="form-floating mb-3">
                <input type="password" name="password" class="form-control" id="password" placeholder="Password" required>
                <label for="password">Password</label>
            </div>
            <div class="d-grid">
                <button class="btn btn-primary btn-lg" type="submit">Sign In</button>
            </div>
        </form>

        <p class="text-center mt-4 register-link">
            Don't have an account? <a href="/register" th:href="@{/register}">Register here</a>
        </p>

    </div>

</body>
</html>